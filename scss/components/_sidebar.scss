@import "globals/variables";
@import "hidpi";

// Sidebar
// This relates to how the sidebar operates
// This requires #navbar to be position: relative;, but a bug causes this to fail
// when animations are included.
#main, #sidebar {
    position: relative;
    @if $animations-enabled == true {
        @include transition($sidebar-animation-time all ease-out);
    }
}

#main {
    width: 100%;
    height: 100%;
    margin-left: 0;
    float: right;
    z-index: 1;
    body.is-sidebar-active & {
        position: fixed;
        left: $sidebar-width;
        @media #{$smartphone} {
            left: $sidebar-smartphone-width;
        }
    }
}

#sidebar {
    display: none;
    top: 0px;
    width: $sidebar-width;
    height: 100%;
    background: url($cream-dust);
    @include hidpi {background: url($cream-dust-hidpi);}
    @media #{$smartphone} {
        width: $sidebar-smartphone-width;
    }
    margin-left: -100%;
    float: left;
    z-index: 3;
    body.is-sidebar-active & {
        display: inline;
        margin-left: 0;
    }
}

/**
 Used to draw a semi-transparent overlay over the content of the page to
 highlight the sidebar
 */
.overlay {
    display: none;
    @if $animations-enabled == true {
        opacity: 0;
        width: 100%;
        @include transition($sidebar-animation-time all ease-out);
    }
    body.is-sidebar-active & {
        display: inline;
        position: fixed;
        top: 0px;
        width: 100%;
        left: $sidebar-width;
        @media #{$smartphone} {
            left: $sidebar-smartphone-width;
        }
        height: 100%;
        opacity: 0.5;
        background-color: #000;
        z-index: 2;
        @if $animations-enabled == true {
            width: 100%;
            opacity: 0.5;
        }
    }
}

ul.sidebar-items {
    list-style: none;
    > a {
        li {
            padding: 10px 5px;
            border-bottom: 2px solid $border-color;
            border-left: 15px solid $border-color;
            color: #666;
            font-weight: 400;
            font-size: ms(1);
            background: url($cream_dust);
            @include hidpi {background: url($cream-dust-hidpi);}
            @include gentle-inset-shadow-on-state();
        }

    }
}

